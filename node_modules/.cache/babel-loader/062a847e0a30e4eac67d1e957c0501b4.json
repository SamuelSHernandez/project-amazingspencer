{"ast":null,"code":"import _classCallCheck from\"/home/spencer/CPTR220-repos/project-amazingspencer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/spencer/CPTR220-repos/project-amazingspencer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/spencer/CPTR220-repos/project-amazingspencer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/spencer/CPTR220-repos/project-amazingspencer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import'whatwg-fetch';// Top class for Cases page calls on child components\nvar Cases=/*#__PURE__*/function(_Component){_inherits(Cases,_Component);var _super=_createSuper(Cases);function Cases(){_classCallCheck(this,Cases);return _super.apply(this,arguments);}_createClass(Cases,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"main\",{id:\"case-count\",children:[/*#__PURE__*/_jsx(WorldStats,{}),/*#__PURE__*/_jsx(CasesByCountry,{})]})});}}]);return Cases;}(Component);// Child component to Cases class, renders Global stats,\n// also calls its own child components\nexport{Cases as default};var WorldStats=/*#__PURE__*/function(_Component2){_inherits(WorldStats,_Component2);var _super2=_createSuper(WorldStats);function WorldStats(props){var _this;_classCallCheck(this,WorldStats);_this=_super2.call(this,props);_this.state={error:null,isLoading:false,confirmed:0,deaths:0,recoveries:0};return _this;}_createClass(WorldStats,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/brief').then(function(response){if(response.status>=400){throw new Error(\"Unable to fetch data!\");}return response.json();}).then(function(data){_this2.setState({isLoading:false,confirmed:data.confirmed,deaths:data.deaths,recoveries:data.recovered});},// Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\nfunction(error){_this2.setState({error:error,isLoading:false});});}},{key:\"render\",value:function render(){var _this$state=this.state,error=_this$state.error,isLoading=_this$state.isLoading;if(error){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"There was a problem with your request.\"})});}if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",style:{marginTop:5},children:/*#__PURE__*/_jsx(\"i\",{id:\"spinner\",class:\"fas fa-spin fa-circle-notch\"})});}return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Global Coronavirus Statistics\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Data from \",/*#__PURE__*/_jsx(\"cite\",{children:/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'underline'},href:\"https://github.com/Laeyoung/COVID-19-API\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Laeyoung COVID-19-API\"})}),\".\"]}),/*#__PURE__*/_jsx(LastUpdate,{}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Confirmed Cases: \",new Intl.NumberFormat().format(this.state.confirmed)]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Confirmed Deaths: \",new Intl.NumberFormat().format(this.state.deaths)]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Confirmed Recoveries: \",new Intl.NumberFormat().format(this.state.recoveries)]})]});}}]);return WorldStats;}(Component);// Child component to WorldStats, renders the date the API \n// was last updated\nvar LastUpdate=/*#__PURE__*/function(_Component3){_inherits(LastUpdate,_Component3);var _super3=_createSuper(LastUpdate);function LastUpdate(props){var _this3;_classCallCheck(this,LastUpdate);_this3=_super3.call(this,props);_this3.state={error:null,lastUpdate:''};return _this3;}_createClass(LastUpdate,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest').then(function(response){if(response.status>=400){throw new Error(\"Unable to fetch data!\");}return response.json();}).then(function(data){// Use of Date class from https://css-tricks.com/how-to-convert-a-date-string-into-a-human-readable-format/\nvar options={year:\"numeric\",month:\"long\",day:\"numeric\"};var date=new Date(data[0].lastupdate).toLocaleDateString(undefined,options);_this4.setState({lastUpdate:date});},// Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\nfunction(error){_this4.setState({error:error});});}},{key:\"render\",value:function render(){var error=this.state.error;if(error){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Error! There was a problem with your request.\"})});}return/*#__PURE__*/_jsxs(\"h2\",{children:[\"Last update: \",this.state.lastUpdate]});}}]);return LastUpdate;}(Component);// Parent class, and renders the toggle button for country cases\n// NOT a child component of WorldStats class\nvar CasesByCountry=/*#__PURE__*/function(_Component4){_inherits(CasesByCountry,_Component4);var _super4=_createSuper(CasesByCountry);function CasesByCountry(props){var _this5;_classCallCheck(this,CasesByCountry);_this5=_super4.call(this,props);_this5.handleClick=function(){// setState logic inspired by https://medium.com/path2code/how-react-js-toggle-button-works-99c838ae2fe1\n_this5.setState(function(currentState){return{visible:!currentState.visible};});};_this5.state={error:null,visible:false,countries:[]};return _this5;}_createClass(CasesByCountry,[{key:\"componentDidMount\",value:function componentDidMount(){var _this6=this;fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest?onlyCountries=true').then(function(response){if(response.status>=400){throw new Error(\"Unable to fetch data!\");}return response.json();}).then(function(data){_this6.setState({countries:data});},// Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\nfunction(error){_this6.setState({error:error});});}},{key:\"render\",value:function render(){var _this7=this;var error=this.state.error;if(error){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"There was a problem with your request.\"})});}var countries=this.state.countries.map(function(country){return/*#__PURE__*/_jsx(TableRow,{country:country},country.countryregion);});// Use of style for table inspired by https://builditmasters.com/2020/11/04/how-to-create-custom-toggle-in-react/\nreturn/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"countryButton\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary caseButton\",onClick:function onClick(){return _this7.handleClick();},children:\"Toggle Cases by Country\"}),/*#__PURE__*/_jsxs(\"table\",{id:\"countryTable\",className:\"table table-bordered table-striped\",style:{display:this.state.visible===true?'table':'none'},children:[/*#__PURE__*/_jsx(\"caption\",{children:\"List of Coronavirus cases by country.\"}),/*#__PURE__*/_jsx(TableHeader,{cols:['Country','Cases']}),/*#__PURE__*/_jsx(\"tbody\",{children:countries})]})]})});}}]);return CasesByCountry;}(Component);// Child component to CasesByCountry class, renders the table head\n// for the table of countries and their cases.\n// Table design inspired by Problem Set 8\nvar TableHeader=/*#__PURE__*/function(_Component5){_inherits(TableHeader,_Component5);var _super5=_createSuper(TableHeader);function TableHeader(){_classCallCheck(this,TableHeader);return _super5.apply(this,arguments);}_createClass(TableHeader,[{key:\"render\",value:function render(){var tableHeaders=this.props.cols.map(function(column){return/*#__PURE__*/_jsx(\"th\",{children:column},column);});return/*#__PURE__*/_jsx(\"thead\",{id:\"tableHead\",children:/*#__PURE__*/_jsx(\"tr\",{children:tableHeaders})});}}]);return TableHeader;}(Component);// Child component of CasesByCountry class, renders each individual row\n// for the table\nvar TableRow=/*#__PURE__*/function(_Component6){_inherits(TableRow,_Component6);var _super6=_createSuper(TableRow);function TableRow(){_classCallCheck(this,TableRow);return _super6.apply(this,arguments);}_createClass(TableRow,[{key:\"render\",value:function render(){var country=this.props.country;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:country.countryregion}),/*#__PURE__*/_jsx(\"td\",{children:new Intl.NumberFormat().format(country.confirmed)})]});}}]);return TableRow;}(Component);","map":{"version":3,"sources":["/home/spencer/CPTR220-repos/project-amazingspencer/src/components/Cases.js"],"names":["React","Component","Cases","WorldStats","props","state","error","isLoading","confirmed","deaths","recoveries","fetch","then","response","status","Error","json","data","setState","recovered","marginTop","textDecoration","Intl","NumberFormat","format","LastUpdate","lastUpdate","options","year","month","day","date","Date","lastupdate","toLocaleDateString","undefined","CasesByCountry","handleClick","currentState","visible","countries","map","country","countryregion","display","TableHeader","tableHeaders","cols","column","TableRow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'whatwg-fetch';\n\n// Top class for Cases page calls on child components\nexport default class Cases extends Component {\n    render() {\n        return (\n            <div className=\"container\">\n                <main id=\"case-count\">\n                    <WorldStats />\n                    <CasesByCountry />\n                </main>\n            </div>\n        );\n    }\n}\n\n// Child component to Cases class, renders Global stats,\n// also calls its own child components\nclass WorldStats extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoading: false,\n            confirmed: 0,\n            deaths: 0,\n            recoveries: 0\n        }\n    }\n\n    componentDidMount() {\n        fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/brief')\n            .then((response) => {\n                if (response.status >= 400) {\n                    throw new Error(\"Unable to fetch data!\");\n                }\n                return response.json()\n            })\n            .then((data) => {\n                this.setState({ isLoading: false, confirmed: data.confirmed, deaths: data.deaths, recoveries: data.recovered })\n            },\n            // Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\n            error => {\n                this.setState({\n                    error,\n                    isLoading: false\n                })\n            });\n    }\n\n    render() {\n        let { error, isLoading } = this.state;\n        if (error) {\n            return <div><h1>There was a problem with your request.</h1></div>;\n        }\n        if (isLoading) {\n            return <div className=\"text-center\" style={{marginTop: 5}}><i id=\"spinner\" class=\"fas fa-spin fa-circle-notch\"></i></div>;\n        }\n        return (\n            <section>\n                <h1>Global Coronavirus Statistics</h1>\n                <p>Data from <cite><a style={{textDecoration: 'underline'}} href=\"https://github.com/Laeyoung/COVID-19-API\" target=\"_blank\" rel=\"noopener noreferrer\">Laeyoung COVID-19-API</a></cite>.</p>\n                <LastUpdate />\n                <h3>Confirmed Cases: {new Intl.NumberFormat().format(this.state.confirmed)}</h3>\n                <h3>Confirmed Deaths: {new Intl.NumberFormat().format(this.state.deaths)}</h3>\n                <h3>Confirmed Recoveries: {new Intl.NumberFormat().format(this.state.recoveries)}</h3>\n            </section>\n        );\n    }\n}\n\n// Child component to WorldStats, renders the date the API \n// was last updated\nclass LastUpdate extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            error: null,\n            lastUpdate: ''\n        }\n    }\n\n    componentDidMount() {\n        fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest')\n            .then((response) => {\n                if (response.status >= 400) {\n                    throw new Error(\"Unable to fetch data!\");\n                }\n                return response.json()\n            })\n            .then((data) => {\n                // Use of Date class from https://css-tricks.com/how-to-convert-a-date-string-into-a-human-readable-format/\n                const options = { year: \"numeric\", month: \"long\", day: \"numeric\" }\n                let date = new Date(data[0].lastupdate).toLocaleDateString(undefined, options)\n                this.setState({ lastUpdate: date })\n            },\n            // Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\n            error => {\n                this.setState({\n                    error,\n                })\n            });\n    }\n\n    render() {\n        let { error } = this.state;\n        if (error) {\n            return <div><h2>Error! There was a problem with your request.</h2></div>;\n        }\n        return <h2>Last update: {this.state.lastUpdate}</h2>\n    }\n}\n\n// Parent class, and renders the toggle button for country cases\n// NOT a child component of WorldStats class\nclass CasesByCountry extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            error: null,\n            visible: false,\n            countries: []\n        }\n    }\n\n    componentDidMount() {\n        fetch('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest?onlyCountries=true')\n            .then((response) => {\n                if (response.status >= 400) {\n                    throw new Error(\"Unable to fetch data!\");\n                }\n                return response.json()\n            })\n            .then((data) => {\n                this.setState({ countries: data })\n            },\n            // Error handling design inspired by https://medium.com/@shivamkumar19/react-fetch-data-e19c37736950\n            error => {\n                this.setState({\n                    error,\n                })\n            });\n    }\n\n    handleClick = () => {\n        // setState logic inspired by https://medium.com/path2code/how-react-js-toggle-button-works-99c838ae2fe1\n        this.setState((currentState) => ({\n            visible: !currentState.visible,\n        }));\n    }\n\n    render() {\n        let { error } = this.state;\n        if (error) {\n            return <div><h1>There was a problem with your request.</h1></div>;\n        }\n\n        let countries = this.state.countries.map((country) => {\n            return <TableRow country={country} key={country.countryregion} />\n        })\n\n        // Use of style for table inspired by https://builditmasters.com/2020/11/04/how-to-create-custom-toggle-in-react/\n        return (\n            <section>\n                <div id=\"countryButton\">\n                    <button className=\"btn-primary caseButton\" onClick={() => this.handleClick()}>Toggle Cases by Country</button>\n                    <table id=\"countryTable\" className=\"table table-bordered table-striped\" style={{ display: this.state.visible === true ? 'table' : 'none' }}>\n                        <caption>List of Coronavirus cases by country.</caption>\n                        <TableHeader cols={['Country', 'Cases']} />\n                        <tbody>\n                            {countries}\n                        </tbody>\n                    </table>\n                </div>\n            </section>\n        );\n    }\n}\n\n// Child component to CasesByCountry class, renders the table head\n// for the table of countries and their cases.\n// Table design inspired by Problem Set 8\nclass TableHeader extends Component {\n    render() {\n        let tableHeaders = this.props.cols.map((column) => {\n            return <th key={column}>{column}</th>\n        })\n\n        return (\n            <thead id=\"tableHead\">\n                <tr>\n                    {tableHeaders}\n                </tr>\n            </thead>\n        );\n    }\n}\n\n// Child component of CasesByCountry class, renders each individual row\n// for the table\nclass TableRow extends Component {\n    render() {\n        let country = this.props.country;\n\n        return (\n            <tr>\n                <td>{country.countryregion}</td>\n                <td>{new Intl.NumberFormat().format(country.confirmed)}</td>\n            </tr>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}